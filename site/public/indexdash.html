<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://kit.fontawesome.com/eb115129d4.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="../js/funcoes.js"></script>
  <link rel="stylesheet" href="./css/indexdash.css">
  <link rel="shortcut icon" href="./assets/logo.png" type="image/x-icon">
  <title>Dashboard - MaxSolutions</title>

</head>

<body onload="buscarMaquinas()">
  <div class="tudo">
    <div class="menulateral">
      <div class="logo">
        <a href="index.html"><img src="./icons/Logo-nome-site.png" alt="" height="35vh"></a>
      </div>
      <div class="hello">

        <img src="./assets/WhatsApp Image 2023-01-30 at 23.12.16.jpeg" alt="">

        <h2><span id="b_usuario">Dionísio</span></h2>

      </div>
      <ul>
        <li style="color: black;">
          <i class="fa-solid fa-chart-line"></i>
          <a href=""><b style="color: black;">Gráficos</b></a>
        </li>

        <li>
          <i class="fa-solid fa-user"></i>
          <a cla href="perfil.html"><b>Perfil</b></a>
        </li>

        <li>
          <i class="fa-solid fa-computer"></i>
          <a href="./crud/maquina.html"><b>Máquina</b></a>
        </li>

        <li>
          <i class="fa-solid fa-address-card"></i>
          <a href="./crud/funcionario.html"><b>Funcionário</b></a>
        </li>

        <li>
          <i class="fa-solid fa-headset"></i>
          <a href="https://maxsolutions.auvo.com.br/Login#signin"><b>Suporte</b></a>
        </li>

        <li>
          <a href="login.html">
            <i class="fa-solid fa-arrow-right-from-bracket"></i>
            <span class="menu" onclick="limparSessao()"><b>Sair</b></span>
          </a>
        </li>
      </ul>
    </div>
    <div class="dashboard">
      <div class="maquina">
        <div class="select"> Máquina:
          <select id="select_maquina" onchange="obterDadosGrafico()">
            <option value="0">Escolha maquina <i class="fa-solid fa-angle-down"></i> </option>
            <option value="1">Máquina 1</option>
          </select>
        </div>
        <a href="./crud/maquina.html"><i class="fa-solid fa-computer"></i> Cadastrar máquina </a>
      </div>
      <div class="grafico">
        <div class="plot">
          <div class="um">
            <div class="parada">
              <p>Máquinas que estão paradas:0 </p>
            </div>
            <div class="indicativos">
              <div class="ver" style="background-color: rgba(0, 128, 0, 0.4);"></div>
              <div class="amare" style="background-color: rgba(255, 255, 0, 0.4);"></div>
              <div class="verm" style="background-color: red;"></div>
            </div>
          </div>
          <div class="dois">
            <div id="grafic1" class="display-none">
              <canvas id="myChart" style="position: relative; height:40vh;width:40vw"></canvas>
            </div>
            <div id="grafic2" class="display-none">
              <canvas id="myChart2" style="position: relative; height:40vh;width:40vw"></canvas>
            </div>
            <div id="grafic3" class="display-none">
              <canvas id="myChart3" style="position: relative; height:40vh;width:40vw"></canvas>
            </div>
            <div id="grafic4" class="display-none">
              <canvas id="myChart4" style="position: relative; height:40vh;width:40vw"></canvas>
            </div>
          </div>
        </div>
        <div class="opcao">
          <div class="vazio">
            <div id="espcpu" class="display-none">
              <p><b>Modelo: </b> AMD Ryzen 5 3500U with Radeon Vega Mobile Gfx</p>
              <br>
              <p><b>Número de CPUs Fisícas: </b>4</p>
              <p><b>Número de CPUs Lógicas: </b>8</p>
            </div>
            <div id="esparmaz" class="display-none">
              <p><b>Modelo: </b> SPT256L2-2IAS7G2</p>
              <br>
              <p><b>Tamanho total: </b>239 GB</p>
            </div>
            <div id="espmemor" class="display-none">
              <p><b> Memória Total: </b>8</p>
              <p><b> Memória em Uso: </b>65%</p>
            </div>
            <div id="esprede" class="display-none">
              <p><b>Modelo: </b> Realtek 8821CE Wireless LAN 802.11ac PCI-E NIC</p>
            </div>
          </div>
          <div class="botao">
            <div class="butt" id="butt">
              <label><button id="cpu" style="background-color: #8d9699;" class="cpu"
                  onclick="grafico1()"></button>CPU</label>
              <label><button id="armazenamento" style="background-color: #8d9699;" class="armazenamento"
                  onclick="grafico2()"></button>Armazenamento</label>
              <label><button id="memoria" style="background-color: #8d9699;" class="memoria"
                  onclick="grafico3()"></button>Memória</label>
              <label><button id="rede" style="background-color: #8d9699;" class="rede"
                  onclick="grafico4()"></button>Rede</label>
            </div>
            <div id="kpi" class="display-none">
              <div class="verkpi">
                <div class="verde" style="background-color: green;"></div>
                <div class="kpidupla">
                  <p id="minimo"> 1% </p>
                  <p id="ok">40%</p>
                </div>
              </div>
              <div class="amarkpi">
                <div class="amarelo" style="background-color: yellow;"></div>
                <p id="quase_limite">70%</p>
              </div>
              <div class="vermkpi">
                <div class="vermelho" style="background-color: red;"></div>
                <p id="limite_toleravel"> 100% </p>
              </div>
            </div>
            <div class="indicadores">
              <div id="baixa" class="baixa" style="background-color: green;">
              </div>
              <div id="media" class="media" style="background-color:  yellow;">
              </div>
              <div id="alta" class="alta" style="background-color:  red;">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>
  </div>
</body>

</html>
<script>

  var fklojavar = sessionStorage.FK_LOJA;
  var labels1 = []
  var labels2 = []
  var labels3 = []
  var labels4 = []
  var dados1 = {}
  var dados2 = {}
  var dados3 = {}
  var dados4 = {}


  async function buscarMaquinas() {

    await fetch(`/medidas/buscar/maquinas/${fklojavar}`)
      .then(function (resposta) {
        if (resposta.ok) {
          console.log(resposta);
          resposta.json().then(function (json) {
            console.log(json);
            var html = '<option value="0">Escolha maquina <i class="fa-solid fa-angle-down"></i> </option>';
            json.forEach(function (item) {
              html += `<option value="${item.id_maquina}">Maquina ${item.id_maquina}</option>`;
            });
            document.getElementById('select_maquina').innerHTML = html;
          })
            .catch(function (erro) {
              console.log(erro);
            });
        } else {
          console.log('Erro na resposta da requisição:', resposta.status);
        }
      })
      .catch(function (erro) {
        console.log(erro);
      });
  }

  function obterDadosGrafico() {

    var idMaquina = Number(select_maquina.value);

    fetch(`/medidas/ultimas/${idMaquina}`, { cache: 'no-store' }).then(function (resCpu, resDisco, resRam, resRede) {
      if (resCpu.ok) {
        if (resDisco.ok) {
          if (resRam.ok) {
            if (resRede.ok) {
              return resCpu.json(), resDisco.json(), resRam.json(), resRede.json()

            }
          }
        }
      } else {
        throw new Error("Nenhum dado encontrado ou erro na API")
      }
    }).then(function (dataCpu, dataDisco, dataRam, dataRede) {
      // data.forEach(metrica => {
      //   console.log(metrica);

      //   if (metrica.tipo == "cpu" && metrica.captura != resposta1[resposta1.length - 1]?.captura) {
      //     resposta1.push(metrica);

      //   } else if (metrica.tipo == "disco" && metrica.captura != resposta2[resposta2.length - 1]?.captura) {
      //     resposta2.push(metrica);

      //   } else if (metrica.tipo == "Memoria RAM" && metrica.captura != resposta3[resposta3.length - 1]?.captura) {
      //     resposta3.push(metrica);

      //   }

      // resposta4.push(metrica);

      dataCpu.reverse()
      dataDisco.reverse()
      dataRam.reverse()
      dataRede.reverse()

      console.log(dataCpu);
      console.log(dataDisco);
      console.log(dataRam);
      console.log(dataRede);

      plotarGraficos(dataCpu, dataDisco, dataRam, dataRede, idMaquina);
    })
      // plotarGraficoRede(resposta4, idMaquina);

      .catch(function (error) {
        console.error(`Erro na obtenção dos dados p/ gráfico: ${error.message}`);
      });
  }

  function plotarGraficos(respostaCpu, respostaDisco, respostaRam, respostaRede, idMaquina) {

    console.log('iniciando plotagem do gráfico...');

    labels1 = [];
    labels2 = [];
    labels3 = [];
    labels4 = [];

    dados1 = {
      labels: labels1,
      datasets: [{
        label: 'Utilização(%)',
        data: [],
        fill: false,
        borderColor: 'rgb(75, 192, 192)',
        tension: 0.1
      }]
    };

    dados2 = {
      labels: labels2,
      datasets: [{
        label: 'Tempo médio de resposta(%)',
        data: [],
        fill: false,
        borderColor: 'rgb(75, 192, 192)',
        tension: 0.1
      }]
    };

    dados3 = {
      labels: labels3,
      datasets: [{
        label: 'Memória em uso(%)',
        data: [],
        fill: false,
        borderColor: 'rgb(75, 192, 192)',
        tension: 0.1
      }]
    };

    dados4 = {
      labels: labels4,
      datasets: [{
        label: 'Download(Mb/s)',
        data: [],
        fill: false,
        borderColor: 'rgb(75, 192, 192)',
        tension: 0.1
      },
      {
        label: 'Upload(Mb/s)',
        data: [],
        fill: false,
        borderColor: 'rgb(75, 192, 192)',
        tension: 0.1
      }]
    };


    console.log('----------------------------------------------')
    console.log('Estes dados foram recebidos pela funcao "obterDadosGrafico" e passados para "plotarGrafico":')
    console.log(respostaCpu)
    console.log(respostaDisco)
    console.log(respostaRam)
    console.log(respostaRede)

    respostaCpu.forEach(m1 => {
      labels1.push(m1.dt_hora);

      dados1.datasets[0].data.push(m1.captura);

    });
    respostaDisco.forEach(m2 => {
      labels2.push(m2.dt_hora);

      dados2.datasets[0].data.push(m2.captura);

    });
    respostaRam.forEach(m3 => {
      labels3.push(m3.dt_hora);

      dados3.datasets[0].data.push(m3.captura);

    });
    respostaRede.forEach(m4 => {
      labels4.push(m4.dt_hora);

      dados4.datasets[0].data.push(m4.bytes_recebidos);
      dados4.datasets[1].data.push(m4.bytes_enviados);

    });

    console.log('----------------------------------------------')
    console.log('O gráfico será plotado com os respectivos valores:')
    console.log('Labels:')
    console.log(labels1)
    console.log(labels2)
    console.log(labels3)
    console.log(labels4)
    console.log('Dados:')
    console.log(dados1.datasets)
    console.log(dados2.datasets)
    console.log(dados3.datasets)
    console.log(dados4.datasets)
    console.log('----------------------------------------------')

    // setTimeout(() => grafico1(labels1, dados1), grafico2(labels2, dados2), grafico3(labels3, dados3), 2000);

  }

  // function plotarGraficoRede(resposta4, idMaquina) {

  //   console.log('iniciando plotagem do gráfico...');

  //   labels4 = [];

  //   dados4 = [
  //     {
  //       labels: labels4,
  //       datasets: [{
  //         label: 'Download(KB)',
  //         data: [],
  //         fill: false,
  //         borderColor: 'rgb(255, 0, 0)',
  //         tension: 0.1
  //       }]
  //     },
  //     {
  //       labels: labels4,
  //       datasets: [{
  //         label: 'Upload(KB)',
  //         data: [],
  //         fill: false,
  //         borderColor: 'rgb(0, 0, 255)',
  //         tension: 0.1
  //       }]
  //     }
  //   ];

  //   console.log('----------------------------------------------')
  //   console.log('Estes dados foram recebidos pela funcao "obterDadosGrafico" e passados para "plotarGrafico":')
  //   console.log(resposta4)

  //   resposta4.forEach(m4 => {
  //     labels4.push(m4.dt_hora);

  //     dados4.datasets[0].data.push(m4.bytes_recebidos);
  //     dados4.datasets[1].data.push(m4.bytes_enviados);

  //   })

  //   console.log('----------------------------------------------')
  //   console.log('O gráfico será plotado com os respectivos valores:')
  //   console.log('Labels:')
  //   console.log(labels4)
  //   console.log('Dados:')
  //   console.log(dados4.datasets)
  //   console.log('----------------------------------------------')

  // }

  function atualizarGrafico(idMaquina, dados, myChart) {



    fetch(`/medidas/tempo-real/${idAquario}`, { cache: 'no-store' }).then(function (response) {
      if (response.ok) {
        response.json().then(function (novoRegistro) {

          obterdados(idAquario);
          console.log(`Dados recebidos: ${JSON.stringify(novoRegistro)}`);
          console.log(`Dados atuais do gráfico:`);
          console.log(dados);

          let avisoCaptura = document.getElementById(`avisoCaptura${idAquario}`)
          avisoCaptura.innerHTML = ""


          if (novoRegistro[0].momento_grafico == dados.labels[dados.labels.length - 1]) {
            console.log("---------------------------------------------------------------")
            console.log("Como não há dados novos para captura, o gráfico não atualizará.")
            avisoCaptura.innerHTML = "<i class='fa-solid fa-triangle-exclamation'></i> Foi trazido o dado mais atual capturado pelo sensor. <br> Como não há dados novos a exibir, o gráfico não atualizará."
            console.log("Horário do novo dado capturado:")
            console.log(novoRegistro[0].momento_grafico)
            console.log("Horário do último dado capturado:")
            console.log(dados.labels[dados.labels.length - 1])
            console.log("---------------------------------------------------------------")
          } else {
            // tirando e colocando valores no gráfico
            dados.labels.shift(); // apagar o primeiro
            dados.labels.push(novoRegistro[0].momento_grafico); // incluir um novo momento

            dados.datasets[0].data.shift();  // apagar o primeiro de umidade
            dados.datasets[0].data.push(novoRegistro[0].umidade); // incluir uma nova medida de umidade

            dados.datasets[1].data.shift();  // apagar o primeiro de temperatura
            dados.datasets[1].data.push(novoRegistro[0].temperatura); // incluir uma nova medida de temperatura

            myChart.update();
          }

          // Altere aqui o valor em ms se quiser que o gráfico atualize mais rápido ou mais devagar
          proximaAtualizacao = setTimeout(() => atualizarGrafico(idAquario, dados, myChart), 2000);
        });
      } else {
        console.error('Nenhum dado encontrado ou erro na API');
        // Altere aqui o valor em ms se quiser que o gráfico atualize mais rápido ou mais devagar
        proximaAtualizacao = setTimeout(() => atualizarGrafico(idAquario, dados, myChart), 2000);
      }
    })
      .catch(function (error) {
        console.error(`Erro na obtenção dos dados p/ gráfico: ${error.message}`);
      });

  }


  b_usuario.innerHTML = sessionStorage.NOME_USUARIO;
  function grafico1(labels1, dados1) {

    let cont = 0;

    componente = "cpu";

    if (select_maquina.value == 0) {
      alert(`Selecione uma maquina`)
    } else {
      let graficoExibir3 = document.getElementById(`grafic3`)
      graficoExibir3.classList.remove("display-block")
      graficoExibir3.classList.add("display-none")
      let graficoExibir4 = document.getElementById(`grafic4`)
      graficoExibir4.classList.remove("display-block")
      graficoExibir4.classList.add("display-none")
      let graficoExibir2 = document.getElementById(`grafic2`)
      graficoExibir2.classList.remove("display-block")
      graficoExibir2.classList.add("display-none")
      let graficoExibir = document.getElementById(`grafic1`)
      graficoExibir.classList.remove("display-none")
      graficoExibir.classList.add("display-block")

      let button = document.getElementById("cpu");
      button.style.backgroundColor = "red";
      let button2 = document.getElementById("armazenamento");
      button2.style.backgroundColor = "blue";
      let button3 = document.getElementById("memoria");
      button3.style.backgroundColor = "blue";
      let button4 = document.getElementById("rede");
      button4.style.backgroundColor = "blue";

      let luz = document.getElementById("baixa");
      luz.style.backgroundColor = "green";
      let luz2 = document.getElementById("media");
      luz2.style.backgroundColor = "rgba(255, 255, 0, 0.4)";
      let luz3 = document.getElementById("alta");
      luz3.style.backgroundColor = "rgba(255, 0, 0, 0.4)";

      let textoExibir1 = document.getElementById(`espcpu`)
      textoExibir1.classList.remove("display-none")
      textoExibir1.classList.add("display-flex")
      let textoExibir2 = document.getElementById(`esparmaz`)
      textoExibir2.classList.remove("display-flex")
      textoExibir2.classList.add("display-none")
      let textoExibir3 = document.getElementById(`espmemor`)
      textoExibir3.classList.remove("display-flex")
      textoExibir3.classList.add("display-none")
      let textoExibir4 = document.getElementById(`esprede`)
      textoExibir4.classList.remove("display-flex")
      textoExibir4.classList.add("display-none")


      const labels = labels1

      const data1 = dados1
      const config = {
        type: 'line',
        data: data1,
        options: {}
      }
      const myChart = new Chart(
        document.getElementById('myChart'),
        config
      );

      // setTimeout(() => {
      //   myChart.destroy(), grafico1()
      // }, 2000);
    }
  }
</script>
<script>

  function grafico2(labels2, dados2) {

    myChart2.destroy()

    componente = "MEMORIA RAM";

    if (select_maquina.value == 0) {
      alert(`Selecione uma maquina`)
    } else {
      let graficoExibir = document.getElementById(`grafic1`)
      graficoExibir.classList.remove("display-block")
      graficoExibir.classList.add("display-none")
      let graficoExibir3 = document.getElementById(`grafic3`)
      graficoExibir3.classList.remove("display-block")
      graficoExibir3.classList.add("display-none")
      let graficoExibir4 = document.getElementById(`grafic4`)
      graficoExibir4.classList.remove("display-block")
      graficoExibir4.classList.add("display-none")
      let graficoExibir2 = document.getElementById(`grafic2`)
      graficoExibir2.classList.remove("display-none")
      graficoExibir2.classList.add("display-block")

      let button = document.getElementById("cpu");
      button.style.backgroundColor = "blue";
      let button2 = document.getElementById("armazenamento");
      button2.style.backgroundColor = "red";
      let button3 = document.getElementById("memoria");
      button3.style.backgroundColor = "blue";
      let button4 = document.getElementById("rede");
      button4.style.backgroundColor = "blue";

      let luz = document.getElementById("baixa");
      luz.style.backgroundColor = "green";
      let luz2 = document.getElementById("media");
      luz2.style.backgroundColor = "rgba(255, 255, 0, 0.4)";
      let luz3 = document.getElementById("alta");
      luz3.style.backgroundColor = "rgba(255, 0, 0, 0.4)";

      let textoExibir1 = document.getElementById(`espcpu`)
      textoExibir1.classList.remove("display-flex")
      textoExibir1.classList.add("display-none")
      let textoExibir2 = document.getElementById(`esparmaz`)
      textoExibir2.classList.remove("display-none")
      textoExibir2.classList.add("display-flex")
      let textoExibir3 = document.getElementById(`espmemor`)
      textoExibir3.classList.remove("display-flex")
      textoExibir3.classList.add("display-none")
      let textoExibir4 = document.getElementById(`esprede`)
      textoExibir4.classList.remove("display-flex")
      textoExibir4.classList.add("display-none")

      const labels = labels2

      const data2 = dados2

      const config2 = {
        type: 'line',
        data: data2,
        options: {}
      };
      const myChart2 = new Chart(
        document.getElementById('myChart2'),
        config2
      );
    }
  }
</script>

<script>

  function grafico3(labels3, dados3) {
    myChart3.destroy


    if (select_maquina.value == 0) {
      alert(`Selecione uma maquina`)
    } else {
      let graficoExibir4 = document.getElementById(`grafic4`)
      graficoExibir4.classList.remove("display-block")
      graficoExibir4.classList.add("display-none")
      let graficoExibir2 = document.getElementById(`grafic2`)
      graficoExibir2.classList.remove("display-block")
      graficoExibir2.classList.add("display-none")
      let graficoExibir = document.getElementById(`grafic1`)
      graficoExibir.classList.remove("display-block")
      graficoExibir.classList.add("display-none")
      let graficoExibir3 = document.getElementById(`grafic3`)
      graficoExibir3.classList.remove("display-none")
      graficoExibir3.classList.add("display-block")

      let button = document.getElementById("cpu");
      button.style.backgroundColor = "blue";
      let button2 = document.getElementById("armazenamento");
      button2.style.backgroundColor = "blue";
      let button3 = document.getElementById("memoria");
      button3.style.backgroundColor = "red";
      let button4 = document.getElementById("rede");
      button4.style.backgroundColor = "blue";

      let luz = document.getElementById("baixa");
      luz.style.backgroundColor = "rgba(0, 128, 0, 0.4)";
      let luz2 = document.getElementById("media");
      luz2.style.backgroundColor = "yellow";
      let luz3 = document.getElementById("alta");
      luz3.style.backgroundColor = "rgba(255, 0, 0, 0.4)";

      let textoExibir1 = document.getElementById(`espcpu`)
      textoExibir1.classList.remove("display-flex")
      textoExibir1.classList.add("display-none")
      let textoExibir2 = document.getElementById(`esparmaz`)
      textoExibir2.classList.remove("display-flex")
      textoExibir2.classList.add("display-none")
      let textoExibir3 = document.getElementById(`espmemor`)
      textoExibir3.classList.remove("display-none")
      textoExibir3.classList.add("display-flex")
      let textoExibir4 = document.getElementById(`esprede`)
      textoExibir4.classList.remove("display-flex")
      textoExibir4.classList.add("display-none")

      const labels = labels3

      const data3 = dados3

      const config3 = {
        type: 'line',
        data: data3,
        options: {}
      };
      const myChart3 = new Chart(
        document.getElementById('myChart3'),
        config3
      );
    }
  }
</script>

<script>

  function grafico4(labels4, dados4) {

    myChart4.destroy()

    if (select_maquina.value == 0) {
      alert(`Selecione uma maquina`)
    } else {

      let graficoExibir3 = document.getElementById(`grafic3`)
      graficoExibir3.classList.remove("display-block")
      graficoExibir3.classList.add("display-none")
      let graficoExibir2 = document.getElementById(`grafic2`)
      graficoExibir2.classList.remove("display-block")
      graficoExibir2.classList.add("display-none")
      let graficoExibir = document.getElementById(`grafic1`)
      graficoExibir.classList.remove("display-block")
      graficoExibir.classList.add("display-none")
      let graficoExibir4 = document.getElementById(`grafic4`)
      graficoExibir4.classList.remove("display-none")
      graficoExibir4.classList.add("display-block")

      let button = document.getElementById("cpu");
      button.style.backgroundColor = "blue";
      let button2 = document.getElementById("armazenamento");
      button2.style.backgroundColor = "blue";
      let button3 = document.getElementById("memoria");
      button3.style.backgroundColor = "blue";
      let button4 = document.getElementById("rede");
      button4.style.backgroundColor = "red";

      let luz = document.getElementById("baixa");
      luz.style.backgroundColor = "rgba(0, 128, 0, 0)";
      let luz2 = document.getElementById("media");
      luz2.style.backgroundColor = "rgba(255, 255, 0, 0)";
      let luz3 = document.getElementById("alta");
      luz3.style.backgroundColor = "rgba(255, 0, 0, 0)";

      let textoExibir1 = document.getElementById(`espcpu`)
      textoExibir1.classList.remove("display-flex")
      textoExibir1.classList.add("display-none")
      let textoExibir2 = document.getElementById(`esparmaz`)
      textoExibir2.classList.remove("display-flex")
      textoExibir2.classList.add("display-none")
      let textoExibir3 = document.getElementById(`espmemor`)
      textoExibir3.classList.remove("display-flex")
      textoExibir3.classList.add("display-none")
      let textoExibir4 = document.getElementById(`esprede`)
      textoExibir4.classList.remove("display-none")
      textoExibir4.classList.add("display-flex")

      let kpiExibir4 = document.getElementById(`kpi`)
      kpiExibir4.classList.remove("display-flex")
      kpiExibir4.classList.add("display-none")

      const labels = labels4

      const data4 = dados4
      const config4 = {
        type: 'line',
        data: data4,
        options: {}
      };
      const myChart4 = new Chart(
        document.getElementById('myChart4'),
        config4
      );
    }
  }

</script>